<% provide :title, 'New Problem' %>

<div class="container">
  <div class="row">
    <div class="col-lg-8 col-lg-push-2 col-md-8 col-md-push-2 col-sm-12 col-xs-12">
      <div class="content-box">

        <h1 class="page-title">New Problem</h1>
        
        <%= form_for @problem, url: create_problem_path, html: { class: 'form-vertical', id: 'lean_editor' } do |f| %>
          <%= render 'shared/error_messages', object: f.object %>

          <div class="form-group">
            <%= f.label :title, 'Name' %>
            <%= f.text_field :title, class: 'form-control', placeholder: 'Problem name' %>
          </div>

          <div class="form-group">
            <%= f.label :statement, 'Problem Description' %>
            <hr>

            <%= f.text_field :statement, class: 'form-control editable', placeholder: 'Problem description' %>
            <%= f.hidden_field :statement, id: 'text_field' %>
          </div>

          <hr>          
          <div class="row">
            <div class="col-sm-4">
              <%= f.select :difficulty, options_for_select(@difficulties, selected: @problem.status), {}, class: 'form-control' %>
            </div>
            <div class="col-sm-4">
              <%= f.collection_select :domain_id, @domains, :id, :name, {}, class: 'form-control' %>
            </div>
            <div class="col-sm-4">
              <%= link_to 'Preview', '#', class: 'btn btn-default', id: 'preview_button' %>
              <%= f.submit 'Save as Draft', class: 'btn btn-success', data: { style: 'expand-right' } %>
            </div>
          </div>
        <% end %>

      </div>
    </div>
  </div>
</div>

<%= render 'shared/preview_modal' %>

<% provide :scripts do %>
  <%= javascript_include_tag "writemaths" %>
  <%= javascript_include_tag "editor", "data-turbolinks-track" => true %>
<% end %>